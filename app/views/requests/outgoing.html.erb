<div class="container-fluid">
  <div class="row">
    <div class="col-md-6 offset-md-3">
    <h1>Outgoing requests:</h1>
      <ul class="list-group">
        <% @requests.each do |request|%>
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <%= link_to request_path(request) do %>
              <%= request.painting.name %>
            <% end %>
            <%= request.start_date %> <%= request.end_date %>
            <% if request.pending? %>
              <div class="d-flex justify-content align-items-center">
              <%= form_for request, url: update_request_path(request), method: :patch do |f| %>
                <%= f.hidden_field :status, value: "Cancelled" %>
                <%= f.submit 'Cancel', class: "btn btn-danger my-3 ml-3" %>
              <% end %>
              </div>
          <% elsif request.accepted? %>
                <span class="green-text font-weight-bold"><%= request.status %></span>
          <% elsif request.declined? or request.cancelled? %>
                <span class="red-text font-weight-bold"><%= request.status %></span>      
          <% end %>
         </li><% end %>
      </ul>

<p><%= link_to 'Back', paintings_path, class: 'btn btn-secondary my-3' %></p>
    </div>
  </div>
</div>
